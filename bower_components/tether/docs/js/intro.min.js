(function(){var OUTPUT_HTML,SETUP_JS,activate,deactivate,getOutput,init,run,setupBlock,tethers,uniqueId;uniqueId=Tether.Utils.uniqueId,SETUP_JS="yellowBox = $('.yellow-box', $output);\ngreenBox = $('.green-box', $output);\nscrollBox = $('.scroll-box', $output);",OUTPUT_HTML=function(t){return'<div class="scroll-box">\n  <div class="scroll-content">\n    <div class="yellow-box" data-example="'+t+'"></div>\n    <div class="green-box" data-example="'+t+'"></div>\n  </div>\n</div>'},tethers={},getOutput=function(t){var e;return e=t.data("example"),e&&"string"==typeof e?$("output[data-example='"+e+"']"):t.parents("pre").nextAll("output").first()},run=function(key){var $block,$output,code;return $block="string"==typeof key?$("code[data-example='"+key+"']"):key,key=$block.attr("data-example"),$output=getOutput($block),code=$block.text(),code=SETUP_JS+code,window.$output=$output,tethers[key]=eval(code)},setupBlock=function(t){var e,a,n,o;if(o=t.data("example"),e=getOutput(t),o||(o=uniqueId(),t.attr("data-example",o),e.attr("data-example",o),e.find(".tether-element").attr("data-example",o)),e.html(OUTPUT_HTML(o)),a=e.find(".scroll-box"),n=a.find(".scroll-content"),a.scrollTop(parseInt(n.css("height"))/2-a.height()/2),a.scrollLeft(parseInt(n.css("width"))/2-a.width()/2),setTimeout(function(){return a.on("scroll",function(){return e.addClass("scrolled")})}),a.css("height",t.parent().outerHeight()+"px"),null==e.attr("deactivated"))return run(t)},$(document.body).on("click",function(t){return $(t.target).is("output[deactivated]")?(activate($(t.target)),!1):$(t.target).is("output[activated]")?(deactivate($(t.target)),!1):void 0}),activate=function(t){var e,a;return e=t.prev().find("code"),run(e),t.find(".tether-element").show(),a=t.data("example"),$(tethers[a].element).show(),tethers[a].enable(),t.removeAttr("deactivated"),t.attr("activated",!0)},deactivate=function(t){var e,a;return t.prev().find("code"),a=t.data("example"),tethers[a].disable(),(e=$(tethers[a].element)).detach(),t.find(".scroll-content").append(e),e.hide(),t.removeAttr("activated"),t.attr("deactivated",!0)},init=function(){var t,e,a,n,o;for(o=[],a=0,n=(t=$("code[data-example]")).length;a<n;a++)e=t[a],o.push(setupBlock($(e)));return o},window.EXECUTR_OPTIONS={codeSelector:"code[executable]"},$(init)}).call(this);