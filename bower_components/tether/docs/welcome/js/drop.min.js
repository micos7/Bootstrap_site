(function(){var t,e,o,n,s,r,i,p,a,c,h,l,u={}.hasOwnProperty,d=function(t,e){function o(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype,t},f=[].indexOf||function(t){for(var e=0,o=this.length;e<o;e++)if(e in this&&this[e]===t)return e;return-1};l=Tether.Utils,i=l.extend,o=l.addClass,a=l.removeClass,p=l.hasClass,t=l.Evented,h="ontouchstart"in document.documentElement,s=h?"touchstart":"click",c=function(t){var e,o,n,s;return n=t.split(" "),e=n[0],o=n[1],"left"!==e&&"right"!==e||(e=(s=[o,e])[0],o=s[1]),[e,o].join(" ")},e={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},n={},r=function(h){var l,u,g,m;return null==h&&(h={}),g=function(){return function(t,e,o){o.prototype=t.prototype;var n=new o,s=t.apply(n,e);return Object(s)===s?s:n}(l,arguments,function(){})},i(g,{createContext:r,drops:[],defaults:{}}),u={classPrefix:"drop",defaults:{attach:"bottom left",openOn:"click",constrainToScrollParent:!0,constrainToWindow:!0,classes:"",tetherOptions:{}}},i(g,u,h),i(g.defaults,u.defaults,h.defaults),null==n[m=g.classPrefix]&&(n[m]=[]),g.updateBodyClasses=function(){var t,e,s,r;for(t=!1,e=0,s=(r=n[g.classPrefix]).length;e<s;e++)if(r[e].isOpened()){t=!0;break}return t?o(document.body,g.classPrefix+"-open"):a(document.body,g.classPrefix+"-open")},l=function(t){function r(t){if(this.options=t,this.options=i({},g.defaults,this.options),this.target=this.options.target,null==this.target)throw new Error("Drop Error: You must provide a target.");g.drops.push(this),n[g.classPrefix].push(this),this.setupElements(),this.setupEvents(),this.setupTether()}return d(r,t),r.prototype.setupElements=function(){return this.drop=document.createElement("div"),o(this.drop,g.classPrefix),this.options.classes&&o(this.drop,this.options.classes),this.dropContent=document.createElement("div"),o(this.dropContent,g.classPrefix+"-content"),"object"==typeof this.options.content?this.dropContent.appendChild(this.options.content):this.dropContent.innerHTML=this.options.content,this.drop.appendChild(this.dropContent)},r.prototype.setupTether=function(){var t,o;if(o=this.options.position.split(" "),o[0]=e[o[0]],o=o.join(" "),t=[],this.options.constrainToScrollParent&&t.push({to:"scrollParent",pin:"top, bottom",attachment:"together none"}),!1!==this.options.constrainToWindow&&t.push({to:"window",pin:!0,attachment:"together"}),t.push({to:"scrollParent"}),h={element:this.drop,target:this.target,attachment:c(o),targetAttachment:c(this.options.position),classPrefix:g.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:t},!1!==this.options.tether)return this.tether=new Tether(i({},h,this.options.tether))},r.prototype.setupEvents=function(){var t,e=this;if(this.options.openOn)return t=this.options.openOn.split(" "),f.call(t,"click")>=0&&(this.target.addEventListener(s,function(){return e.toggle()}),document.addEventListener(s,function(t){if(e.isOpened()&&t.target!==e.drop&&!e.drop.contains(t.target)&&t.target!==e.target&&!e.target.contains(t.target))return e.close()})),f.call(t,"hover")>=0?(this.target.addEventListener("mouseover",function(){return e.open()}),this.target.addEventListener("mouseout",function(){return e.close()})):void 0},r.prototype.isOpened=function(){return p(this.drop,g.classPrefix+"-open")},r.prototype.toggle=function(){return this.isOpened()?this.close():this.open()},r.prototype.open=function(){var t;return this.drop.parentNode||document.body.appendChild(this.drop),o(this.target,g.classPrefix+"-open"),o(this.drop,g.classPrefix+"-open"),null!=(t=this.tether)&&t.enable(),this.trigger("open"),g.updateBodyClasses()},r.prototype.close=function(){var t;return a(this.target,g.classPrefix+"-open"),a(this.drop,g.classPrefix+"-open"),this.trigger("close"),null!=(t=this.tether)&&t.disable(),g.updateBodyClasses()},r}(t),g},window.Drop=r(),document.addEventListener("DOMContentLoaded",function(){return Drop.updateBodyClasses()})}).call(this);