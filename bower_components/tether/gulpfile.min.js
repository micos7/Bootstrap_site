var del=require("del"),gulp=require("gulp"),babel=require("gulp-babel"),bump=require("gulp-bump"),concat=require("gulp-concat"),header=require("gulp-header"),minify=require("gulp-minify-css"),plumber=require("gulp-plumber"),prefixer=require("gulp-autoprefixer"),rename=require("gulp-rename"),uglify=require("gulp-uglify"),sass=require("gulp-sass"),umd=require("gulp-wrap-umd"),distDir="./dist",pkg=require("./package.json"),banner=["/*!",pkg.name,pkg.version,"*/\n"].join(" "),umdOptions={exports:"Tether",namespace:"Tether"};gulp.task("clean",function(){del.sync([distDir])}),gulp.task("js",function(){gulp.src(["./src/js/utils.js","./src/js/tether.js","./src/js/constraint.js","./src/js/abutment.js","./src/js/shift.js"]).pipe(plumber()).pipe(babel()).pipe(concat("tether.js")).pipe(umd(umdOptions)).pipe(header(banner)).pipe(gulp.dest(distDir+"/js")).pipe(uglify()).pipe(rename({suffix:".min"})).pipe(gulp.dest(distDir+"/js"))}),gulp.task("css",function(){gulp.src("./src/css/**/*.sass").pipe(plumber()).pipe(sass()).pipe(prefixer()).pipe(gulp.dest(distDir+"/css")).pipe(minify()).pipe(rename({suffix:".min"})).pipe(gulp.dest(distDir+"/css"))});for(var VERSIONS=["patch","minor","major"],i=0;i<VERSIONS.length;++i)!function(e){gulp.task("version:"+e,function(){gulp.src(["package.json","bower.json","component.json"]).pipe(bump({type:e})).pipe(gulp.dest("."))})}(VERSIONS[i]);gulp.task("watch",["js","css"],function(){gulp.watch("./src/js/**/*",["js"]),gulp.watch("./src/css/**/*",["css"])}),gulp.task("build",["js","css"]),gulp.task("default",["build"]);